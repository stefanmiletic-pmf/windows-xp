<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">src/Viewers/widgets/PanelCreator.js</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#controllers">Controllers</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Controllers/ControllerFileBase.js~ControllerFileBase.html">ControllerFileBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Controllers/ControllerFileTXT.js~ControllerFileTXT.html">ControllerFileTXT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Controllers/ControllerPlatform.js~ControllerPlatform.html">ControllerPlatform</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Controllers/ControllerProperties.js~ControllerProperties.html">ControllerProperties</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-jQuery">jQuery</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#models">Models</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Models/File.js~File.html">File</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Models/FileProperties.js~FileProperties.html">FileProperties</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Models/FileText.js~FileText.html">FileText</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#utilis">Utilis</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Utilis/FunctionsFrontend.js~FunctionsFrontend.html">FunctionsFrontend</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Utilis/Logger.js~Logger.html">Logger</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Utilis/QueryController.js~QueryController.html">QueryController</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#viewers">Viewers</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/ViewerBase.js~ViewerBase.html">ViewerBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/ViewerIcon.js~ViewerIcon.html">ViewerIcon</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/ViewerPlatform.js~ViewerPlatform.html">ViewerPlatform</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/ViewerProperties.js~ViewerProperties.html">ViewerProperties</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/ViewerTXT.js~ViewerTXT.html">ViewerTXT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/ViewerUtilis.js~ViewerUtilis.html">ViewerUtilis</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getZindex">getZindex</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-zIndex">zIndex</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#viewers-builders">Viewers/Builders</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/Builders/WindowBuilder.js~WindowBuilder.html">WindowBuilder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/Builders/WindowBuilderFilePropertiesDirector.js~WindowBuilderFilePropertiesDirector.html">WindowBuilderFilePropertiesDirector</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/Builders/WindowBuilderTXTDirector.js~WindowBuilderTXTDirector.html">WindowBuilderTXTDirector</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#viewers-widgets">Viewers/widgets</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/widgets/Highlight.js~Highlight.html">Highlight</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/widgets/ModuleBase.js~ModuleBase.html">ModuleBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/widgets/PanelCreator.js~PanelCreator.html">PanelCreator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/widgets/RenamingModule.js~RenamingModule.html">RenamingModule</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Viewers/widgets/TaskbarModule.js~TaskbarModule.html">TaskbarModule</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/Viewers/widgets/PanelCreator.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import {getZindex} from &quot;../ViewerUtilis.js&quot;;
import ModuleBase from &quot;./ModuleBase.js&quot;;

export default class PanelCreator extends ModuleBase{
	
	/**
	 *Creates an instance of PanelCreator.
	 * @param {*} params
	 */
	constructor(params) {
		super(params.rightClickPanel.viewer_as_arg,
		params.rightClickPanel.actionDependOn,
		params.rightClickPanel.actionResetModules);

		var params = params[&quot;rightClickPanel&quot;];
		
		
		var callbacks = params[&quot;callbacks&quot;];
		
		/**
		 * Appends child to the viewer platform.
		 * @type {function} 
		 * @public
		 */
		this.appendChildCustom = callbacks[&quot;appendChildCustom&quot;];
		/**
		 * Gets selected icon on the viewer platform.
		 * @type {function} 
		 * @public
		 */
		this.getSelectedIcon = callbacks[&quot;getSelectedIcon&quot;];
		/**
		 * Sets selected icon on the viewer platform.
		 * @type {function} 
		 * @public
		 */
		this.setSelectedIcon = callbacks[&quot;setSelectedIcon&quot;];

		/**
		 * Deletes viewer icon of the selected icon.
		 * @type {function} 
		 * @public
		 */
		this.deleteSelectedIcon = callbacks[&quot;deleteSelectedIcon&quot;];

		/**
		 * Get icons dictionary callback from viewer platform.
		 * @type {function} 
		 * @public
		 */
		this.getIconsDictionary = callbacks[&quot;getIconsDictionary&quot;];

		/**
		 * Resets next position of the pointer for the next new icon.
		 * @type {function} 
		 * @public
		 */
		this.resetPositionIconPointer = callbacks[&quot;resetPositionIconPointer&quot;];

		/**
		 * Gets position pointer for the next new icon.
		 * @type {function} 
		 * @public
		 */
		this.getPositionIconPointer = callbacks[&quot;getPositionIconPointer&quot;];

		/**
		 * Moves position pointer for the next new icon.
		 * @type {function} 
		 * @public
		 */
		this.movePositionIconPointer = callbacks[&quot;movePositionIconPointer&quot;];

		/**
		 * Makes new icon and show.
		 * @type {function} 
		 * @public
		 */
		this.makeIconAndShow = callbacks[&quot;makeIconAndShow&quot;];

		/**
		 * Logs system error.
		 * @type {function} 
		 * @public
		 */
		this.logSystemError = callbacks[&quot;logSystemError&quot;];
		
		/**
		 * Friend modules: renamingModule.
		 * @type {dictionary} 
		 * @public
		 */
		this.friendModules = params[&quot;friendModules&quot;];
		

		
		/**
		 * User privilege.
		 * @type {string} 
		 * @public
		 */
		this.userPriv = params[&quot;userPriv&quot;];
		



		/**
		 * Panel that is active at the moment.
		 * @type {DOM} 
		 * @public
		 */
		this.activePanel = null;


		/**
		 * Indicator if right click hud panel is visible(active).
		 * @type {boolean} 
		 * @public
		 */
		this.is_right_click_hud_active = false;
		/**
		 * Dom of right click hud panel.
		 * @type {DOM} 
		 * @public
		 */
		this.right_click_hud_panel_dom = null;
		
		/**
		 * Indicator if right click icon panel is visible(active).
		 * @type {boolean} 
		 * @public
		 */
		this.is_right_click_icon_active = false;
		/**
		 * Dom of right click icon panel.
		 * @type {DOM} 
		 * @public
		 */
		this.right_click_icon_panel_dom = null;

		this.addRightClickFunctionality();
		

		
		
		
	}
	
	
	/**
	 * Returns activness of this module.
	 * @returns {boolean}
	 */	
	isActive() {
		return this.get_icon_panel_visiblity()
		|| this.get_hud_panel_visibility();
	}
	

	
	/**
	 * Resets this module.
	 * @returns {void}
	 */	
	reset() {
		
		this.hide_hud_panel();
		this.hide_icon_panel();
	}
	

	/**
	 * Powerful panel creator.
	* @param {string} panel_parent_className - Parent panel class.
	* @param {string} options_className_prefix - Children class prefix.
	* @param {string} options_name - Children name.
	* @param {string} options_callbacks - Children name + callbacks.
	* @param {string} options_disabled - Which children are disabled.
	* @param {string} callback_hide_panel - Callback for panel closing on end of the action.
	* @returns {DOM}
	*/	
	static
	right_click_panel_generator_5000(panel_parent_className, options_className_prefix, options_name,
						options_callbacks, options_disabled, callback_hide_panel) {
	
			
	var OPTION_LIST = document.createElement(&quot;ul&quot;);
	OPTION_LIST.className = panel_parent_className;
	
	if ( callback_hide_panel == undefined ) {
		callback_hide_panel = function() {
			OPTION_LIST.style.visibility = &quot;hidden&quot;;
		}
		
	}
		
	
	
	
	var keys = Object.keys(options_callbacks);
	
	
	if ( options_name != undefined ){
	
		//console.log(options_name);
		if ( options_name.length != keys.length) {
			return;
		}
	}
	
	
	for (var i = 0; i &lt; keys.length ; ++i ){
		
	
		
		var key = keys[i];
		var node_dom = null;
		
		if ( key.startsWith(&quot;HR&quot;) ) {
			
			node_dom = document.createElement(&quot;hr&quot;);
			
		} else {
			
			node_dom = document.createElement(&quot;li&quot;);
			
			
			var node_class_sufix = key.split(&quot; &quot;)[0].toLowerCase();
			
			node_dom.className = options_className_prefix+ node_class_sufix;
			
			
			
			var a = document.createElement(&quot;a&quot;);
			if ( options_name != undefined ) 
				a.innerHTML = options_name[i];
			else
				a.innerHTML = key;
			node_dom.appendChild(a);
			
			if ( !(key in options_disabled) ) {
				
				if ( options_callbacks[key] != null ) {
					
					var OPTION_callbacks = options_callbacks[key];
					////console.log(OPTION_callbacks);
					var keys_Y = Object.keys(OPTION_callbacks);
					
					for ( var y = 0; y &lt; keys_Y.length; ++y ) {
						
						var key_Y = keys_Y[y];
						
						var callbackOn = key_Y;
						var callback = OPTION_callbacks[key_Y];
						//console.log(&quot;callbackOn: &quot; + callbackOn);
						//console.log(callback);
						node_dom.addEventListener(callbackOn, function(e) {
						
							//console.log(&quot;gde si &quot;);
							this.callback(e);
							this.callback_hide_panel();
							
							e.stopPropagation();
						}.bind({callback:callback, callback_hide_panel: callback_hide_panel }), false);
						
					}
					
					
					
				}
				
				
			} else 
				node_dom.className += options_disabled[key];
			
			if ( options_callbacks[key] == null ) 
				node_dom.className += &quot; not-implemented&quot;;
			
		}
		
		
		OPTION_LIST.appendChild(node_dom);

		
	}
	
	return OPTION_LIST;
		
	}


	
	
	/**
	 * Returns hud(main) panel position.
	 * @returns {object}
	 */	
	get_hud_panel_position_px() {
		return {
				&quot;x&quot;: this.right_click_hud_panel_dom.style.left,
				&quot;y&quot;: this.right_click_hud_panel_dom.style.top
		}; 
		
	}

	
	/**
	 * Returns hud(main) panel visibility.
	 * @returns {boolean}
	 */	
	get_hud_panel_visibility() {
		return 
		this.is_right_click_hud_active;
	}

	
	/**
	 * Hides hud(main) panel.
	 * @returns {void}
	 */	
	hide_hud_panel() {
		
		this.activePanel = null;
		this.right_click_hud_panel_dom.style.visibility = &quot;hidden&quot;;
		this.is_right_click_hud_active = false;
	}
	/*
		description:
			Shows right click hud panel
		returns:
			void
	*/
	/**
	 * Shows hud(main) panel.
	* @param {integer} pos_x_px - position on x axis with &quot;px&quot;.
	* @param {integer} pos_y_px - position on x axis with &quot;px&quot;.
	 * @returns {void}
	 */	
	show_hud_panel(pos_x_px, pos_y_px) {
		
		
		
		this.activePanel = this.right_click_hud_panel_dom;
		this.right_click_hud_panel_dom.style.visibility = &quot;visible&quot;;
		this.right_click_hud_panel_dom.style.zIndex = getZindex();
		this.is_right_click_hud_active = true;
		
		this.right_click_hud_panel_dom.style.left = pos_x_px;
		this.right_click_hud_panel_dom.style.top = pos_y_px;
	
	}

	/**
	 * Makes hud(main) panel.
	 * @returns {void}
	 */	
	make_right_click_hud_panel() {
		
		
		
		
		
		var arrange_by_name_callback = function(e) {
			
			this.resetPositionIconPointer();
		
		
			var icons = this.getIconsDictionary();
		
			var keys = Object.keys(icons).sort(function(a, b) {
					  return a.toUpperCase().localeCompare(b.toUpperCase());
					});
			
			for (var i = 0; i &lt; keys.length; ++i ) {
				
				
				var icon_viewer = icons[keys[i]];
				var dom = icon_viewer.getDom();
			
				var position = this.getPositionIconPointer();
			
				dom.style.position = &quot;absolute&quot;;
				dom.style.left = position.x + &quot;px&quot;;
				dom.style.top = position.y + &quot;px&quot;;
				
				
				this.movePositionIconPointer();
				
				
			}
			
			
			
			
			
				e.preventDefault();
				e.stopPropagation();
			
		}.bind(this);
		
		var refresh_callback = function() {
			
			var icon_array = document.getElementsByClassName(&quot;txt-icon&quot;);
							
			for(var i = 0;i &lt; icon_array.length; ++i)
				icon_array[i].style.visibility = &quot;hidden&quot;;
		
			setTimeout(function() {
				
				for(var i = 0;i &lt; icon_array.length; ++i)
					icon_array[i].style.visibility = &quot;visible&quot;;
		
				
			}, 100);
		
			
		};
		
		var new_txt_file_callback = function(e) {
			
			this.makeIconAndShow(undefined, undefined, true);
							
			e.preventDefault();
			e.stopPropagation();
		}.bind(this);
		
		var panel_parent_className = &quot;right-click-option-list&quot;;
		var options_prefix = &quot;right-click-option-list-&quot;;
		var options_callbacks = { &quot;Arrange Icons By Name&quot;: 
		{ &quot;click&quot;: arrange_by_name_callback },
		&quot;Refresh&quot;: {&quot;click&quot;: refresh_callback}, &quot;HR1&quot;: null, &quot;Paste&quot;: null, &quot;Paste Shortcut&quot;: null, &quot;Undo Move&quot;: null, &quot;HR2&quot;: null, &quot;New txt file&quot;: { &quot;click&quot;: new_txt_file_callback }, &quot;HR3&quot;: null, &quot;Properties&quot;: null}
		var options_disabled = {}
		
		if (this.userPriv == &quot;guest&quot;) {
			options_disabled[&quot;New txt file&quot;] = &quot; disabled&quot;;
		} 
		
		return PanelCreator.right_click_panel_generator_5000(panel_parent_className, options_prefix, undefined, options_callbacks, options_disabled, this.hide_hud_panel.bind(this));
		
	}
	
		/**
	 * Returns icon panel visibility.
	 * @returns {boolean}
	 */	
	get_icon_panel_visiblity() {
		return  
		this.is_right_click_icon_active;
	}

		/**
	 * Hides icon panel.
	 * @returns {void}
	 */	
	hide_icon_panel() {
		this.activePanel = null;
		this.is_right_click_icon_active = false;
		this.right_click_icon_panel_dom.style.visibility = &quot;hidden&quot;;
				
	}
	/*
		description:
			Shows right click icon panel
		returns:
			void
	*/

	/**
	 * Shows icon panel.
	* @param {integer} pos_x_px - position on x axis with &quot;px&quot;.
	* @param {integer} pos_y_px - position on x axis with &quot;px&quot;.
	 * @returns {void}
	 */	
	show_icon_panel(pos_x_px, pos_y_px) {
		this.activePanel = this.right_click_icon_panel_dom;
		this.is_right_click_icon_active = true;
		this.right_click_icon_panel_dom.style.visibility = &quot;visible&quot;;
		this.right_click_icon_panel_dom.style.zIndex = getZindex();
				
		this.right_click_icon_panel_dom.style.left = pos_x_px;
		this.right_click_icon_panel_dom.style.top = pos_y_px;
	}

	/**
	 * Makes icon panel.
	 * @returns {void}
	 */
	make_right_click_icon_panel() {
		
			
	// CALLBACKS		
		var open_callback = function() {
					
			var selectedIcon = this.getSelectedIcon();
			if ( selectedIcon ) {
				var controller = selectedIcon.getController();
				controller.show();
			} else 	
				this.logSystemError(&quot;open_callback&quot;)			
			
			
		}.bind(this);

		
		var delete_callback = function(e) {
			
			
				var iconViewer =  this.getSelectedIcon();
				
				if ( !iconViewer ) {
					this.logSystemError(&quot;delete_callback&quot;)	
					return;		
				}
				
				var controller = iconViewer.getController();
				controller.deleteFile();
				
				
			
				this.deleteSelectedIcon(iconViewer);
				this.setSelectedIcon(null);
			
		}.bind(this);
		
		
		var rename_callback = function(e) {
				var renamingModule = this.friendModules[&quot;renamingModule&quot;];
				
				if ( !renamingModule ){
					this.logSystemError(&quot;rename_callback&quot;)	
					return;
				}
					
				if (renamingModule.isActive()){
					
					return;
					
				}
				
				
				
				
				var iconViewer =  this.getSelectedIcon();
				
				renamingModule.setActive(true, iconViewer);
				if ( !iconViewer ){
					this.logSystemError(&quot;rename_callback&quot;)
					return;
				}
				
				iconViewer.switchTitleAndRenamingField();
				 
				e.stopPropagation(); 
				 
		}.bind(this);
		
		var properties_callback = function() {
			
			var selectedIcon = this.getSelectedIcon();
			if ( selectedIcon ) {
				var controller = selectedIcon.getController();
				controller.showPropertiesView();
			} else 	
				this.logSystemError(&quot;open_callback&quot;)
			
			
		}.bind(this);
		
		var panel_parent_className = &quot;right-click-icon-option-list&quot;;
		var options_prefix = &quot;right-click-icon-option-list-&quot;;
		var options_callbacks = { &quot;Open&quot;: { &quot;click&quot;: open_callback },
		&quot;Run as...&quot;: null, &quot;Pin to Start menu&quot;: null, &quot;HR1&quot;: null, &quot;Send to&quot;: null, &quot;HR2&quot;: null, &quot;Cut&quot;: null, &quot;Copy&quot;: null, &quot;HR3&quot;: null, &quot;Delete&quot;: { &quot;click&quot;: delete_callback }, &quot;Rename&quot;: { &quot;click&quot;: rename_callback }, &quot;HR4&quot;: null, &quot;Properties&quot;: {&quot;click&quot;: properties_callback}}
		var options_disabled = {}
		if (this.userPriv == &quot;guest&quot;) {
			options_disabled[&quot;Rename&quot;] = &quot; disabled&quot;;
		} 
		
		if (this.userPriv != &quot;admin&quot;) {
			
			options_disabled[&quot;Delete&quot;] = &quot; disabled&quot;;
			
		}
		
		return PanelCreator.right_click_panel_generator_5000(panel_parent_className, options_prefix, undefined,options_callbacks, options_disabled, this.hide_icon_panel.bind(this));
			
		
	}
	


	/**
	 * Adds right click functionality.
	 * @returns {void}
	 */
	addRightClickFunctionality() {
		
		
		this.is_right_click_hud_active = false;
		this.right_click_hud_panel_dom = this.make_right_click_hud_panel();
		this.right_click_hud_panel_dom.style.visibility = &quot;hidden&quot;;
		
		
		this.is_right_click_icon_active = false;
		this.right_click_icon_panel_dom = this.make_right_click_icon_panel();
		this.right_click_icon_panel_dom.style.visibility = &quot;hidden&quot;;
		
		
		
		document.addEventListener(&apos;contextmenu&apos;, function(e) {
			
			if ( this.checkDependency() == false )
				return;
			
			this.resetOtherModules();
			////console.log(&quot;contexmenu hud&quot;);
			
			if(this.get_icon_panel_visiblity())
				this.hide_icon_panel();
			
			
			this.show_hud_panel(e.clientX+&quot;px&quot;, e.clientY+&quot;px&quot;);
		
			e.preventDefault();
			
		}.bind(this), false );
			
			
		
		this.appendChildCustom(this.right_click_hud_panel_dom);
		this.appendChildCustom(this.right_click_icon_panel_dom);
		
		 
	}
		
	
	
	
}</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
